test_that("multiplication works", {
  df <- tibble::tribble(
    ~date_of_dep, ~carrier, ~orig, ~dest, ~arr_int, ~dep_int, ~eqpt, ~seats, ~dep_hour, ~arr_hour,             ~dep_dttm,             ~arr_dttm, ~domestic, ~before_9,      ~load_factor,      ~orig_factor,  ~avg_bag_factor, ~chk_ratio_factor,    ~expected_pax,    ~expected_bag, ~expected_pax_wbag,                ~`10`,                ~`20`,                ~`30`,              ~`40`,               ~`50`,               ~`60`,              ~`70`,              ~`80`,              ~`90`,             ~`100`,              ~`110`,              ~`120`,              ~`130`,              ~`140`,              ~`150`,              ~`160`,              ~`170`,              ~`180`,               ~`190`,               ~`200`,               ~`210`,               ~`220`,               ~`230`,              ~`240`, ~oa, ~cart_staging, ~checkpoint, ~cbis, ~cbra,
    "2021-06-15",     "WN", "DAL", "IAH",     2005,     2040, "73W",   143L,        20,        20, "2021-06-15 20:40:00", "2021-06-15 20:05:00",      TRUE,     FALSE, 0.851577559724496, 0.555467634541366, 1.10740740740741, 0.322150076429049, 67.6423995002005, 24.1315194314123,   21.7910041688339, 0.00142147329245521, 0.00235296904849593, 0.00686506987833481, 0.017473352760135, 0.0389440607184471, 0.0710176671900273, 0.100371090679227, 0.119096847559912, 0.122750680045746, 0.114970267516966, 0.0982625719620854, 0.0799471039635414, 0.0609618205196131, 0.0447128731636611, 0.0314867103015892, 0.0227252658262744, 0.0164567839812882, 0.0115968529442804, 0.00896497360582546, 0.00653877714529395, 0.00521852998124086, 0.00413304128518416, 0.00345999521868074, 0.0102712214116953,  NA,            NA,          NA,    NA,    NA,
    "2021-06-15",     "AA", "DAL", "LGA",       NA,     1000, "73W",   143L,        10,        NA, "2021-06-15 10:00:00",                    NA,      TRUE,     FALSE, 0.940460989010989,                 1, 1.47739518639787, 0.614611587921778, 134.485921428571, 122.116471418168,   82.6566057223378, 0.00142147329245521, 0.00235296904849593, 0.00686506987833481, 0.017473352760135, 0.0389440607184471, 0.0710176671900273, 0.100371090679227, 0.119096847559912, 0.122750680045746, 0.114970267516966, 0.0982625719620854, 0.0799471039635414, 0.0609618205196131, 0.0447128731636611, 0.0314867103015892, 0.0227252658262744, 0.0164567839812882, 0.0115968529442804, 0.00896497360582546, 0.00653877714529395, 0.00521852998124086, 0.00413304128518416, 0.00345999521868074, 0.0102712214116953,  NA,            NA,          NA,    NA,    NA,
    "2021-06-15",     "UA", "DAL", "AUS",     2050,     2130, "73W",   143L,        21,        20, "2021-06-15 21:30:00", "2021-06-15 20:50:00",      TRUE,     FALSE,            0.6825,            0.0925, 1.28989566923448, 0.320544846619051,       9.02776875, 3.73270621370775,   2.89380474928101, 0.00142147329245521, 0.00235296904849593, 0.00686506987833481, 0.017473352760135, 0.0389440607184471, 0.0710176671900273, 0.100371090679227, 0.119096847559912, 0.122750680045746, 0.114970267516966, 0.0982625719620854, 0.0799471039635414, 0.0609618205196131, 0.0447128731636611, 0.0314867103015892, 0.0227252658262744, 0.0164567839812882, 0.0115968529442804, 0.00896497360582546, 0.00653877714529395, 0.00521852998124086, 0.00413304128518416, 0.00345999521868074, 0.0102712214116953,  NA,            NA,          NA,    NA,    NA,
    "2021-06-15",     "WN", "DAL", "BNA",     1600,     1715, "73W",   143L,        17,        16, "2021-06-15 17:10:00", "2021-06-15 16:00:00",      TRUE,     FALSE,             0.936,              0.65, 1.45402247448818, 0.542183402180672,          87.0012, 68.5871221458916,   47.1706066098011, 0.00142147329245521, 0.00235296904849593, 0.00686506987833481, 0.017473352760135, 0.0389440607184471, 0.0710176671900273, 0.100371090679227, 0.119096847559912, 0.122750680045746, 0.114970267516966, 0.0982625719620854, 0.0799471039635414, 0.0609618205196131, 0.0447128731636611, 0.0314867103015892, 0.0227252658262744, 0.0164567839812882, 0.0115968529442804, 0.00896497360582546, 0.00653877714529395, 0.00521852998124086, 0.00413304128518416, 0.00345999521868074, 0.0102712214116953,  NA,            NA,          NA,    NA,    NA,
    "2021-06-15",     "WN", "DAL", "PHX",     1250,     1340, "73H",   175L,        13,        12, "2021-06-15 13:40:00", "2021-06-15 12:50:00",      TRUE,     FALSE, 0.922857142857143,              0.63, 1.35203834149951, 0.596295489678307,          101.745, 82.0282805575944,   60.6700845973194, 0.00142147329245521, 0.00235296904849593, 0.00686506987833481, 0.017473352760135, 0.0389440607184471, 0.0710176671900273, 0.100371090679227, 0.119096847559912, 0.122750680045746, 0.114970267516966, 0.0982625719620854, 0.0799471039635414, 0.0609618205196131, 0.0447128731636611, 0.0314867103015892, 0.0227252658262744, 0.0164567839812882, 0.0115968529442804, 0.00896497360582546, 0.00653877714529395, 0.00521852998124086, 0.00413304128518416, 0.00345999521868074, 0.0102712214116953,  NA,            NA,          NA,    NA,    NA
  ) %>%
    dplyr::mutate(dep_dttm = lubridate::ymd_hms(.data$dep_dttm))

  d <- df %>%
    pax_model() %>%
    dplyr::filter(.data$pax_demand > 0) %>%
    dim()

  expect_equal(sum(d), 120)
})
